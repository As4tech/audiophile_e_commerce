{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\audiophile_e_commerce\\\\src\\\\pages\\\\ProductDetail\\\\ProductDetail.js\",\n    _s = $RefreshSig$();\n\nimport classes from \"./ProductDetail.module.css\";\nimport React, { useEffect, useContext, useState } from \"react\";\nimport Header from \"../../components/Header/Header\";\nimport ErrorModal from \"../../components/UI/ErrorModal\";\nimport LoadingSpinner from \"../../components/UI/LoadingSpinner\";\nimport { getSingleProduct } from \"../../lib/api\";\nimport useHttp from \"../../hooks/useHttp\";\nimport ProductItem from \"../../components/ProductItem/ProductItem\";\nimport { Link } from \"react-router-dom\";\nimport MiddleDetail from \"../../components/MiddleDetail/MiddleDetail\";\nimport Gallery from \"../../components/Gallery/Gallery\";\nimport AlsoLike from \"../../components/AlsoLike/AlsoLike\";\nimport CategoryLink from \"../../components/CategoryLink/CategoryLink\";\nimport BrandDescription from \"../../components/BrandDescription/BrandDescription\";\nimport Footer from \"../../components/Footer/Footer\";\nimport { CartContext } from \"../../store/CartProvider\";\nimport CartModal from \"../../components/Cart/CartModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductDetail = ({\n  product\n}) => {\n  _s();\n\n  const {\n    sendRequest,\n    status,\n    data,\n    error\n  } = useHttp(getSingleProduct, true);\n  const cartCtx = useContext(CartContext);\n  const [value, setValue] = useState(1);\n  useEffect(() => {\n    if (product) localStorage.setItem(\"product\", JSON.stringify(product));\n  }, [product]);\n  useEffect(() => {\n    if (localStorage.getItem(\"product\")) {\n      sendRequest(JSON.parse(localStorage.getItem(\"product\")));\n    } else {\n      sendRequest(product);\n    }\n  }, [sendRequest, product]);\n\n  if (status === \"pending\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"centered\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(ErrorModal, {\n      title: \"Uh Oh ! Something went wrong !\",\n      message: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n\n  const [{\n    name,\n    features,\n    image,\n    new: newOne,\n    description,\n    id,\n    category,\n    price,\n    includes,\n    gallery\n  }] = data;\n\n  const getValueHandler = val => {\n    setValue(val);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [cartCtx.cartIsShown && /*#__PURE__*/_jsxDEV(CartModal, {\n      updatedVal: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 31\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.top,\n      children: /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `/${category}`,\n      className: classes.back,\n      children: [\"\\u2190 \\xA0 More \", category[0].toUpperCase() + category.slice(1)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductItem, {\n      id: id,\n      item: data,\n      name: name,\n      image: image,\n      newOne: newOne,\n      description: description,\n      price: price,\n      onSubmitted: getValueHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MiddleDetail, {\n      includedItem: includes.map(item => item.item),\n      includedAmount: includes.map(quant => quant.quantity),\n      features: features\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Gallery, {\n      gallery: gallery,\n      name: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AlsoLike, {\n      name: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CategoryLink, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BrandDescription, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProductDetail, \"FvITnkrqmlMwqoLFCgK4CUL4S9M=\", false, function () {\n  return [useHttp];\n});\n\n_c = ProductDetail;\nexport default ProductDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"sources":["D:/Projects/audiophile_e_commerce/src/pages/ProductDetail/ProductDetail.js"],"names":["classes","React","useEffect","useContext","useState","Header","ErrorModal","LoadingSpinner","getSingleProduct","useHttp","ProductItem","Link","MiddleDetail","Gallery","AlsoLike","CategoryLink","BrandDescription","Footer","CartContext","CartModal","ProductDetail","product","sendRequest","status","data","error","cartCtx","value","setValue","localStorage","setItem","JSON","stringify","getItem","parse","name","features","image","new","newOne","description","id","category","price","includes","gallery","getValueHandler","val","cartIsShown","top","back","toUpperCase","slice","map","item","quant","quantity"],"mappings":"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","sourcesContent":["import classes from \"./ProductDetail.module.css\";\r\nimport React, { useEffect, useContext, useState } from \"react\";\r\nimport Header from \"../../components/Header/Header\";\r\nimport ErrorModal from \"../../components/UI/ErrorModal\";\r\nimport LoadingSpinner from \"../../components/UI/LoadingSpinner\";\r\nimport { getSingleProduct } from \"../../lib/api\";\r\nimport useHttp from \"../../hooks/useHttp\";\r\nimport ProductItem from \"../../components/ProductItem/ProductItem\";\r\nimport { Link } from \"react-router-dom\";\r\nimport MiddleDetail from \"../../components/MiddleDetail/MiddleDetail\";\r\nimport Gallery from \"../../components/Gallery/Gallery\";\r\nimport AlsoLike from \"../../components/AlsoLike/AlsoLike\";\r\nimport CategoryLink from \"../../components/CategoryLink/CategoryLink\";\r\nimport BrandDescription from \"../../components/BrandDescription/BrandDescription\";\r\nimport Footer from \"../../components/Footer/Footer\";\r\nimport { CartContext } from \"../../store/CartProvider\";\r\nimport CartModal from \"../../components/Cart/CartModal\";\r\n\r\nconst ProductDetail = ({ product }) => {\r\n  const { sendRequest, status, data, error } = useHttp(getSingleProduct, true);\r\n  const cartCtx = useContext(CartContext);\r\n  const [value, setValue] = useState(1);\r\n\r\n  useEffect(() => {\r\n    if (product) localStorage.setItem(\"product\", JSON.stringify(product));\r\n  }, [product]);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"product\")) {\r\n      sendRequest(JSON.parse(localStorage.getItem(\"product\")));\r\n    } else {\r\n      sendRequest(product);\r\n    }\r\n  }, [sendRequest, product]);\r\n\r\n  if (status === \"pending\") {\r\n    return (\r\n      <div className=\"centered\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <ErrorModal title=\"Uh Oh ! Something went wrong !\" message={error} />\r\n    );\r\n  }\r\n\r\n  const [\r\n    {\r\n      name,\r\n      features,\r\n      image,\r\n      new: newOne,\r\n      description,\r\n      id,\r\n      category,\r\n      price,\r\n      includes,\r\n      gallery,\r\n    },\r\n  ] = data;\r\n\r\n  const getValueHandler = (val) => {\r\n    setValue(val);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {cartCtx.cartIsShown && <CartModal updatedVal={value} />}\r\n      <div className={classes.top}>\r\n        <Header />\r\n      </div>\r\n      <Link to={`/${category}`} className={classes.back}>\r\n        &larr; &nbsp; More {category[0].toUpperCase() + category.slice(1)}\r\n      </Link>\r\n      <ProductItem\r\n        id={id}\r\n        item={data}\r\n        name={name}\r\n        image={image}\r\n        newOne={newOne}\r\n        description={description}\r\n        price={price}\r\n        onSubmitted={getValueHandler}\r\n      />\r\n      <MiddleDetail\r\n        includedItem={includes.map((item) => item.item)}\r\n        includedAmount={includes.map((quant) => quant.quantity)}\r\n        features={features}\r\n      />\r\n      <Gallery gallery={gallery} name={name} />\r\n      <AlsoLike name={name} />\r\n      <CategoryLink />\r\n      <BrandDescription />\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;\r\n"]},"metadata":{},"sourceType":"module"}